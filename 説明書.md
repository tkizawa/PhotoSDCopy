# SDカードコピーツール 説明書

## 概要
SDカード内の画像や動画ファイルを日付と拡張子ごとに整理しながら指定フォルダへコピーするツールです。TkinterベースのGUIで簡単に操作できます。

---

## 必要な環境
- Python 3.6以上
- 必要なPythonライブラリ
  - `Pillow`
  - `exifread`
  - `hachoir`
  - `tkinter`（標準ライブラリ）
  - `shutil`（標準ライブラリ）

---

## インストール方法
1. 必要な外部ライブラリをインストールします。
   ```sh
   pip install pillow exifread hachoir
   ```
2. プログラムファイル（PhotoSDCopy.py）を任意のフォルダに配置します。

---

## 使い方
1. プログラムの起動
   - コマンドプロンプトまたはPowerShellで配置先フォルダへ移動し、以下を実行します。
     ```sh
     python PhotoSDCopy.py
     ```
   - もしくはPhotoSDCopy.pyをダブルクリックして起動します（関連付け設定が必要な場合があります）。

2. 操作手順
   1) コピー元（SDカードのドライブ）
      - 「参照」をクリックし、SDカードのドライブを選択します。
      - 一般的にはDCIMまたはPRIVATE/M4ROOT/CLIPフォルダが対象です。
   2) コピー先フォルダ
      - 「参照」をクリックし、コピー先のフォルダを選択します。
      - 日付ごと・拡張子ごとのサブフォルダが自動作成されます。
   3) 実行
      - 「実行」をクリックしてコピーを開始します。
      - プログレスバーで進行状況を確認できます。
   4) ログの確認
      - 画面下部に処理ログが表示されます。
      - コピー完了後、コピーされたファイル数が表示されます。

---

## 機能の詳細
- ファイルの整理
  - 作成日またはメタデータの日付を取得し、日付フォルダ（例: 2023-10-01）を作成。
  - 拡張子フォルダ（例: JPG, MP4）を作成し振り分け。
  - 同名ファイルが存在する場合は連番を付与。
- 対応形式
  - 画像: .jpg, .jpeg, .png, .tif, .tiff
  - 動画: .mp4, .mov, .avi, .mpg, .mpeg, .m4v
  - その他: 拡張子なしはOTHERフォルダに保存。

---

## 注意事項
1. .xmlファイルはコピー対象外です。
2. コピー元にDCIMまたはPRIVATE/M4ROOT/CLIPがない場合、処理は実行されません。
3. コピー中のエラーはログに記録されます。

---

## トラブルシューティング
- コピー元やコピー先を指定していない場合
  - エラーメッセージが表示されます。両方を指定してください。
- コピー先フォルダを作成できない場合
  - コピー先パスの書き込み権限を確認してください。
- ファイルの日付情報が取得できない場合
  - ファイルの作成日時を使用します。

---

## ライセンス
本プログラムは個人利用を目的としています。商用利用や再配布を行う場合は開発者にお問い合わせください。